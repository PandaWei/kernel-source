From 7e155fa3d91478f9e2f22c842a9f15bcecf0e8a0 Mon Sep 17 00:00:00 2001
From: Yadan Fan <ydfan@suse.com>
Date: Mon, 14 May 2018 15:30:15 +0800
Subject: [PATCH] Fixes typo for (watchdog: hpwdt: Update nmi_panic message)
Patch-mainline: Not yet, submitted to upstream but not merged yet
References: bsc#1085185

Acked-by: Yadan Fan <ydfan@suse.com>
---
 drivers/watchdog/hpwdt.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/watchdog/hpwdt.c b/drivers/watchdog/hpwdt.c
index ed33d73eb606..8ee982be58d1 100644
--- a/drivers/watchdog/hpwdt.c
+++ b/drivers/watchdog/hpwdt.c
@@ -121,7 +121,7 @@ static int hpwdt_pretimeout(unsigned int ulReason, struct pt_regs *regs)
 		"3. OA Forward Progress Log\n"
 		"4. iLO Event Log";
 
-	if (ilo5 && ulReason == NMI_UNKNOWN && mynmi)
+	if (ilo5 && ulReason == NMI_UNKNOWN && !mynmi)
 		return NMI_DONE;
 
 	if (allow_kdump)
-- 
2.14.1

